<div class="navbar bg-base-100">
  <div class="flex">
    <a class="btn btn-ghost normal-case text-xl">All notes</a>
  </div>
  <div class="flex-1">
    <a class="btn btn-ghost normal-case text-xl" routerLink="/create">
      <i class="fa-solid fa-pen-to-square"></i>
    </a>
  </div>
  <div class="flex-none gap-2">
    <div class="form-control" *ngIf="show != false">
      <input
        type="text"
        placeholder="Search"
        [(ngModel)]="this.share.term"
        (input)="this.share.search(this.share.term)"
        (keypress)="this.share.search(this.share.term)"
        class="input input-bordered"
      />
    </div>

    <div class="flex-none gap-2">
      <a class="btn btn-ghost normal-case text-xl" (click)="change()">
        <i class="fa-solid fa-magnifying-glass"></i>
      </a>
    </div>
    <div class="dropdown dropdown-end">
      <label tabindex="0" class="btn btn-ghost btn-circle avatar">
        <label class="btn btn-circle swap swap-rotate">
          <!-- this hidden checkbox controls the state -->
          <input type="checkbox" />

          <!-- hamburger icon -->
          <svg
            class="fill-current"
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 512 512"
          >
            <path
              d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"
            />
          </svg>
        </label>
      </label>
      <ul
        tabindex="0"
        class="mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-52"
      >
        <label for="my-modal" class="btn btn-ghost modal-button"
          >Settings</label
        >
        <li (click)="this.logout.logout()">
          <a class="btn btn-ghost">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</div>

<input type="checkbox" id="my-modal" class="modal-toggle" />
<div class="modal">
  <div class="modal-box">
    <h1 class="text-5xl font-bold flex justify-center">Settings</h1>

    <div
      class="alert alert-success shadow-lg"
      id="moveAlert"
      *ngIf="password.length >= 6 && strong != ''"
    >
      <div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="stroke-current flex-shrink-0 h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span *ngIf="strong != ''">{{ strong }}</span>
      </div>
    </div>

    <div
      class="alert alert-error shadow-sm"
      id="moveAlert"
      *ngIf="password.length < 6 && showErr && password != ''"
    >
      <div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="stroke-current flex-shrink-0 h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span>Password should be greater than 6</span>
      </div>
    </div>

    <!-- can't update password error -->
    <div class="alert alert-error shadow-sm" id="moveAlert" *ngIf="error != ''">
      <div>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="stroke-current flex-shrink-0 h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        <span>{{ error }}</span>
      </div>
    </div>

    <div class="flex flex-row justify-center" id="pushWhole">
      <div class="flex flex-1 w-32 justify-center" id="push">Current password</div>
      <div class="flex flex-1 w-32">
        <input
          type="password"
          placeholder="********"
          [(ngModel)]="cPassword"
          class="input input-ghost w-full max-w-xs"
        />
      </div>
    </div>

    <div class="flex flex-row justify-center" id="pushWhole">
      <div class="flex flex-1 w-32 justify-center" id="push">Password</div>
      <div class="flex flex-1 w-32">
        <input
          type="password"
          placeholder="********"
          [(ngModel)]="password"
          (keypress)="changePassword()"
          class="input input-ghost w-full max-w-xs"
        />
      </div>
      <div class="flex w-32 justify-center">
        <button class="btn btn-secondary" (click)="update()">Change</button>
      </div>
    </div>
    <div class="modal-action">
      <label for="my-modal" class="btn">Exit</label>
    </div>
  </div>
</div>
